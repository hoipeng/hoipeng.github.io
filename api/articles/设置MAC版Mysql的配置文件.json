{"title":"è®¾ç½®MACç‰ˆMysqlçš„é…ç½®æ–‡ä»¶","uid":"cd21b4e6b83aafed33281c82b1994424","slug":"è®¾ç½®MACç‰ˆMysqlçš„é…ç½®æ–‡ä»¶","date":"2022-12-01T02:12:51.000Z","updated":"2022-12-01T02:21:28.022Z","comments":true,"path":"api/articles/è®¾ç½®MACç‰ˆMysqlçš„é…ç½®æ–‡ä»¶.json","keywords":null,"cover":[],"content":"<h1 id=\"è®¾ç½®MACç‰ˆMysqlçš„é…ç½®æ–‡ä»¶\"><a href=\"#è®¾ç½®MACç‰ˆMysqlçš„é…ç½®æ–‡ä»¶\" class=\"headerlink\" title=\"è®¾ç½®MACç‰ˆMysqlçš„é…ç½®æ–‡ä»¶\"></a>è®¾ç½®MACç‰ˆMysqlçš„é…ç½®æ–‡ä»¶</h1><h1 id=\"1-èƒŒæ™¯\"><a href=\"#1-èƒŒæ™¯\" class=\"headerlink\" title=\"1. èƒŒæ™¯\"></a>1. èƒŒæ™¯</h1><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><span style=\"color:red;\"><strong>Macå®‰è£…çš„Mysql8é»˜è®¤ä¸ä¼šç”Ÿæˆé…ç½®æ–‡ä»¶æ‰€ä»¥æˆ‘éœ€è¦åˆ›å»ºä¸ªé…ç½®æ–‡ä»¶å»è®©å…¶åŠ è½½ã€‚</strong></span></p></blockquote>\n<p>ä½¿ç”¨ Navicat å¯¼å…¥å¤‡ä»½çš„æ—¶å€™ï¼Œå‡ºç°äº† This function has none of DETERMINISTIC, NO SQL, or READS SQL DATA in its çš„é”™è¯¯ï¼Œå¤‡ä»½é‡Œé¢æ˜¯åŒ…å«äº†åˆ›å»ºçš„å‡½æ•°çš„ï¼Œåœ¨æœ¬åœ°ç¯å¢ƒå’ŒæœåŠ¡å™¨ç¯å¢ƒä¸ä¸€æ ·å°±æŠ¥é”™äº†ã€‚ç™¾åº¦åå‘ç°æ˜¯ç”±äºä»¥ä¸‹åŸå› å¯¼è‡´ï¼š</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>åˆ›å»ºå‡½æ•°æ—¶å¿…é¡»æŒ‡å®šæˆ‘ä»¬çš„å‡½æ•°æ˜¯å¦æ˜¯</p>\n<ul>\n<li>DETERMINISTIC ä¸ç¡®å®šçš„</li>\n<li>NO SQL æ²¡æœ‰ SQL è¯­å¥ï¼Œå½“ç„¶ä¹Ÿä¸ä¼šä¿®æ”¹æ•°æ®</li>\n<li>READS SQL DATA åªæ˜¯è¯»å–æ•°æ®ï¼Œå½“ç„¶ä¹Ÿä¸ä¼šä¿®æ”¹æ•°æ®</li>\n<li>MODIFIES SQL DATA è¦ä¿®æ”¹æ•°æ®</li>\n<li>CONTAINS SQL åŒ…å«äº† SQL è¯­å¥</li>\n</ul>\n<p>è§£å†³æ–¹æ³•ï¼š</p>\n<p>1ã€åœ¨ MySQL æ•°æ®åº“ä¸­æ‰§è¡Œä»¥ä¸‹è¯­å¥ï¼Œ<strong>ä¸´æ—¶ç”Ÿæ•ˆï¼Œé‡å¯åå¤±æ•ˆ</strong></p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">set global log_bin_trust_function_creators&#x3D;TRUE;</code></pre>\n\n<p>2ã€åœ¨é…ç½®æ–‡ä»¶ my.ini çš„ [mysqld] é…ç½®ï¼Œ<strong>æ°¸ä¹…ç”Ÿæ•ˆ</strong></p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">log_bin_trust_function_creators&#x3D;1</code></pre></blockquote>\n<p>è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n<p>1ã€åœ¨ MySQL æ•°æ®åº“ä¸­æ‰§è¡Œä»¥ä¸‹è¯­å¥ï¼Œ<strong>ä¸´æ—¶ç”Ÿæ•ˆï¼Œé‡å¯åå¤±æ•ˆ</strong></p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">set global log_bin_trust_function_creators&#x3D;TRUE;</code></pre>\n\n<p>2ã€åœ¨é…ç½®æ–‡ä»¶ my.ini çš„ [mysqld] é…ç½®ï¼Œ<strong>æ°¸ä¹…ç”Ÿæ•ˆ</strong></p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">log_bin_trust_function_creators&#x3D;1</code></pre>\n\n<h1 id=\"2-é…ç½®æ–‡ä»¶\"><a href=\"#2-é…ç½®æ–‡ä»¶\" class=\"headerlink\" title=\"2. é…ç½®æ–‡ä»¶\"></a>2. é…ç½®æ–‡ä»¶</h1><h2 id=\"2-1-åˆ›å»ºmy-cnf\"><a href=\"#2-1-åˆ›å»ºmy-cnf\" class=\"headerlink\" title=\"2.1 åˆ›å»ºmy.cnf\"></a>2.1 åˆ›å»ºmy.cnf</h2><p>MySQLé»˜è®¤å®‰è£…åœ¨<code>/usr/local/mysql-8.0.29-macos12-arm64</code></p>\n<p><img src=\"http://nas.hoipeng.cn:9000/picgo/20221128/1669617979-1669617979708-DjaNim.png\" alt=\"image-20221128144619632\"></p>\n<p>åœ¨&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;support-filesæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºmy.cnf å†…å®¹å¦‚ä¸‹ï¼š</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\"># Example MySQL config file for small systems.\n#\n# This is for a system with little memory (&lt;&#x3D; 64M) where MySQL is only used\n# from time to time and it&#39;s important that the mysqld daemon\n# doesn&#39;t use much resources.\n#\n# MySQL programs look for option files in a set of\n# locations which depend on the deployment platform.\n# You can copy this option file to one of those\n# locations. For information about these locations, see:\n# http:&#x2F;&#x2F;dev.mysql.com&#x2F;doc&#x2F;mysql&#x2F;en&#x2F;option-files.html\n#\n# In this file, you can use all long options that a program supports.\n# If you want to know which options a program supports, run the program\n# with the &quot;--help&quot; option.\n# The following options will be passed to all MySQL clients\n[client]\ndefault-character-set&#x3D;utf8\n#password &#x3D; your_password\nport        &#x3D; 3336\nsocket      &#x3D; &#x2F;tmp&#x2F;mysql.sock\n# Here follows entries for some specific programs\n# The MySQL server\n[mysqld]\nsql_mode&#x3D;STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION\ndefault-storage-engine&#x3D;INNODB\ncharacter-set-server&#x3D;utf8\ncollation-server&#x3D;utf8_general_ci\nsocket      &#x3D; &#x2F;tmp&#x2F;mysql.sock\nlog_bin_trust_function_creators&#x3D;1\n# lower_case_table_names &#x3D; 1    # æ˜¯å¦å¯¹sqlè¯­å¥å¤§å°å†™æ•æ„Ÿï¼Œ1è¡¨ç¤ºä¸æ•æ„Ÿï¼Œå³ä¸åŒºåˆ†å¤§å°å†™\n# skip-external-locking\n# key_buffer_size &#x3D; 16K\n# max_allowed_packet &#x3D; 1M\n# table_open_cache &#x3D; 4\n# sort_buffer_size &#x3D; 64K\n# read_buffer_size &#x3D; 256K\n# read_rnd_buffer_size &#x3D; 256K\n# net_buffer_length &#x3D; 2K\n# thread_stack &#x3D; 256K   # è¯¥å­—æ®µæ ¹æ®éœ€è¦ä¿®æ”¹ï¼Œé»˜è®¤æ˜¯128Kï¼Œæˆ‘çš„æ˜¯å› ä¸ºå¯åŠ¨æŠ¥äº†è¿™ä¸ªå­—æ®µçš„é”™å¯¼è‡´å¯åŠ¨å¤±è´¥ï¼Œæ‰€ä»¥æˆ‘æ”¹æˆ256Käº†\n\n# Don&#39;t listen on a TCP&#x2F;IP port at all. This can be a security enhancement,\n# if all processes that need to connect to mysqld run on the same host.\n# All interaction with mysqld must be made via Unix sockets or named pipes.\n# Note that using this option without enabling named pipes on Windows\n# (using the &quot;enable-named-pipe&quot; option) will render mysqld useless!\n#\n#skip-networking\nserver-id   &#x3D; 1\n# Uncomment the following if you want to log updates\n#log-bin&#x3D;mysql-bin\n# binary logging format - mixed recommended\n#binlog_format&#x3D;mixed\n# Causes updates to non-transactional engines using statement format to be\n# written directly to binary log. Before using this option make sure that\n# there are no dependencies between transactional and non-transactional\n# tables such as in the statement INSERT INTO t_myisam SELECT * FROM\n# t_innodb; otherwise, slaves may diverge from the master.\n#binlog_direct_non_transactional_updates&#x3D;TRUE\n# Uncomment the following if you are using InnoDB tables\n#innodb_data_home_dir &#x3D; &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;data\n#innodb_data_file_path &#x3D; ibdata1:10M:autoextend\n#innodb_log_group_home_dir &#x3D; &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;data\n# You can set .._buffer_pool_size up to 50 - 80 %\n# of RAM but beware of setting memory usage too high\n#innodb_buffer_pool_size &#x3D; 16M\n#innodb_additional_mem_pool_size &#x3D; 2M\n# Set .._log_file_size to 25 % of buffer pool size\n#innodb_log_file_size &#x3D; 5M\n#innodb_log_buffer_size &#x3D; 8M\n#innodb_flush_log_at_trx_commit &#x3D; 1\n#innodb_lock_wait_timeout &#x3D; 50\n[mysqldump]\nquick\n# max_allowed_packet &#x3D; 16M\n[mysql]\nno-auto-rehash\n# Remove the next comment character if you are not familiar with SQL\n#safe-updates\n[myisamchk]\n# key_buffer_size &#x3D; 8M\n# sort_buffer_size &#x3D; 8M\n[mysqlhotcopy]\ninteractive-timeout</code></pre>\n\n<h2 id=\"2-2-é…ç½®my-cnf\"><a href=\"#2-2-é…ç½®my-cnf\" class=\"headerlink\" title=\"2.2 é…ç½®my.cnf\"></a>2.2 é…ç½®my.cnf</h2><p><img src=\"http://nas.hoipeng.cn:9000/picgo/20221128/1669618022-1669618022331-7MsqRL.png\" alt=\"image-20221128144702256\"></p>\n<h2 id=\"2-3-é‡å¯æ•°æ®åº“\"><a href=\"#2-3-é‡å¯æ•°æ®åº“\" class=\"headerlink\" title=\"2.3 é‡å¯æ•°æ®åº“\"></a>2.3 é‡å¯æ•°æ®åº“</h2><p><img src=\"http://nas.hoipeng.cn:9000/picgo/20221128/1669617916-1669617916695-GLKxHr.png\" alt=\"æˆªå±2022-11-28 14.44.24\"></p>\n","feature":true,"text":"è®¾ç½®MACç‰ˆMysqlçš„é…ç½®æ–‡ä»¶1. èƒŒæ™¯ Macå®‰è£…çš„Mysql8é»˜è®¤ä¸ä¼šç”Ÿæˆé…ç½®æ–‡ä»¶æ‰€ä»¥æˆ‘éœ€è¦åˆ›å»ºä¸ªé…ç½®æ–‡ä»¶å»è®©å…¶åŠ è½½ã€‚ ä½¿ç”¨ Navicat å¯¼å…¥å¤‡ä»½çš„æ—¶å€™ï¼Œå‡ºç°äº† This function has none of DETERMINISTIC, NO SQL, or RE...","link":"","photos":[],"count_time":{"symbolsCount":"4.4k","symbolsTime":"4 mins."},"categories":[{"name":"ç¨‹åºçŒ¿ğŸ’","slug":"ç¨‹åºçŒ¿ğŸ’","count":2,"path":"api/categories/ç¨‹åºçŒ¿ğŸ’.json"},{"name":"å¥‡æ€ªçš„MacçŸ¥è¯†ç‚¹ğŸ’»","slug":"ç¨‹åºçŒ¿ğŸ’/å¥‡æ€ªçš„MacçŸ¥è¯†ç‚¹ğŸ’»","count":1,"path":"api/categories/ç¨‹åºçŒ¿ğŸ’/å¥‡æ€ªçš„MacçŸ¥è¯†ç‚¹ğŸ’».json"},{"name":"MySQL","slug":"ç¨‹åºçŒ¿ğŸ’/å¥‡æ€ªçš„MacçŸ¥è¯†ç‚¹ğŸ’»/MySQL","count":1,"path":"api/categories/ç¨‹åºçŒ¿ğŸ’/å¥‡æ€ªçš„MacçŸ¥è¯†ç‚¹ğŸ’»/MySQL.json"},{"name":"æ•°æ®åº“","slug":"ç¨‹åºçŒ¿ğŸ’/æ•°æ®åº“","count":1,"path":"api/categories/ç¨‹åºçŒ¿ğŸ’/æ•°æ®åº“.json"}],"tags":[{"name":"MAC","slug":"MAC","count":1,"path":"api/tags/MAC.json"},{"name":"MySQL","slug":"MySQL","count":1,"path":"api/tags/MySQL.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AEMAC%E7%89%88Mysql%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">è®¾ç½®MACç‰ˆMysqlçš„é…ç½®æ–‡ä»¶</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#1-%E8%83%8C%E6%99%AF\"><span class=\"toc-text\">1. èƒŒæ™¯</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#2-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">2. é…ç½®æ–‡ä»¶</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-1-%E5%88%9B%E5%BB%BAmy-cnf\"><span class=\"toc-text\">2.1 åˆ›å»ºmy.cnf</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-2-%E9%85%8D%E7%BD%AEmy-cnf\"><span class=\"toc-text\">2.2 é…ç½®my.cnf</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-3-%E9%87%8D%E5%90%AF%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">2.3 é‡å¯æ•°æ®åº“</span></a></li></ol></li></ol>","author":{"name":"æ…ç‹¬ä¸¶ä¹æ€","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"å›å­æ…ç‹¬ï¼Œä¸æ¬ºæš—å®¤ã€‚<br />å‘ä»¥è‡ªç‰§ï¼Œå«ç« å¯è´ã€‚","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Dockerå®¹å™¨æ—¥å¿—æ¸…ç†","uid":"fd14a765516dcc449f419a4c47c22207","slug":"æµ‹è¯•","date":"2022-12-01T12:34:53.000Z","updated":"2022-12-01T13:06:05.959Z","comments":true,"path":"api/articles/æµ‹è¯•.json","keywords":null,"cover":[],"text":"1.å…ˆæŸ¥çœ‹ç£ç›˜ç©ºé—´ df -h 2.æ‰¾åˆ°å®¹å™¨çš„containerId-json.logæ–‡ä»¶,å¹¶æ¸…ç†(æ²»æ ‡ä¸æ²»æœ¬ï¼Œlogè¿Ÿæ—©è¿˜ä¼šå¤§çš„) æŸ¥çœ‹å„ä¸ªå®¹å™¨çš„logæ–‡ä»¶å¤§å° find &#x2F;var&#x2F;lib&#x2F;docker&#x2F;containers&#x2F; ...","link":"","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"ç¨‹åºçŒ¿ğŸ’","slug":"ç¨‹åºçŒ¿ğŸ’","count":2,"path":"api/categories/ç¨‹åºçŒ¿ğŸ’.json"},{"name":"Docker","slug":"ç¨‹åºçŒ¿ğŸ’/Docker","count":1,"path":"api/categories/ç¨‹åºçŒ¿ğŸ’/Docker.json"}],"tags":[{"name":"Docker","slug":"Docker","count":1,"path":"api/tags/Docker.json"}],"author":{"name":"æ…ç‹¬ä¸¶ä¹æ€","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"å›å­æ…ç‹¬ï¼Œä¸æ¬ºæš—å®¤ã€‚<br />å‘ä»¥è‡ªç‰§ï¼Œå«ç« å¯è´ã€‚","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{}}