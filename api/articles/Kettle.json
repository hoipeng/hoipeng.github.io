{"title":"Kettle 处理MQTT数据并存储至数据库","uid":"7d7b34d825d74f6d0b144da0dc166733","slug":"Kettle","date":"2022-12-02T08:37:31.000Z","updated":"2022-12-02T08:38:52.980Z","comments":true,"path":"api/articles/Kettle.json","keywords":null,"cover":[],"content":"<h1 id=\"Kettle-处理MQTT数据并存储至数据库\"><a href=\"#Kettle-处理MQTT数据并存储至数据库\" class=\"headerlink\" title=\"Kettle 处理MQTT数据并存储至数据库\"></a>Kettle 处理MQTT数据并存储至数据库</h1><h2 id=\"1、新建【转换】test2-ktr\"><a href=\"#1、新建【转换】test2-ktr\" class=\"headerlink\" title=\"1、新建【转换】test2.ktr\"></a>1、新建【转换】test2.ktr</h2><p><img src=\"https://nas.hoipeng.cn:9000/picgo/20210927/1632725916-1632725916353-8AriwL.png\" alt=\"新建转换作业\"></p>\n<h2 id=\"2、选择【MQTT-consumer】组件\"><a href=\"#2、选择【MQTT-consumer】组件\" class=\"headerlink\" title=\"2、选择【MQTT consumer】组件\"></a>2、选择【MQTT consumer】组件</h2><p><img src=\"https://nas.hoipeng.cn:9000/picgo/20210927/1632725951-1632725951659-mNgvsR.png\" alt=\"选择MQTT消费者组件\"></p>\n<h2 id=\"3、右键点击【编辑步骤】\"><a href=\"#3、右键点击【编辑步骤】\" class=\"headerlink\" title=\"3、右键点击【编辑步骤】\"></a>3、右键点击【编辑步骤】</h2><p><img src=\"https://nas.hoipeng.cn:9000/picgo/20210927/1632726011-1632726011255-TOasKG.png\" alt=\"编辑MQTT消费者组件\"></p>\n<h2 id=\"4、配置MQTT消费者连接信息\"><a href=\"#4、配置MQTT消费者连接信息\" class=\"headerlink\" title=\"4、配置MQTT消费者连接信息\"></a>4、配置MQTT消费者连接信息</h2><p><img src=\"https://nas.hoipeng.cn:9000/picgo/20210927/1632726086-1632726086317-XQjhb5.png\" alt=\"配置MQTT消息队列连接\"></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><ol>\n<li>新建message处理转换（test1.ktr）</li>\n<li>填写MQTT连接地址</li>\n<li>输入客户端ID（自己定义不重复的clientId即可）</li>\n<li>填写需要监听的Topics</li>\n<li>设置服务质量</li>\n</ol></blockquote>\n<h2 id=\"5、设置获取消息的节点\"><a href=\"#5、设置获取消息的节点\" class=\"headerlink\" title=\"5、设置获取消息的节点\"></a>5、设置获取消息的节点</h2><p><img src=\"https://nas.hoipeng.cn:9000/picgo/20210927/1632726264-1632726264328-70hQuk.png\" alt=\"选择message处理转换获取消息的节点\"></p>\n<h2 id=\"6、处理MQTT数据\"><a href=\"#6、处理MQTT数据\" class=\"headerlink\" title=\"6、处理MQTT数据\"></a>6、处理MQTT数据</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>后续操作都是在第4步时&#x3D;&#x3D;新建message处理转换&#x3D;&#x3D;中进行。</p></blockquote>\n<h3 id=\"6-1、标准JSON格式数据\"><a href=\"#6-1、标准JSON格式数据\" class=\"headerlink\" title=\"6.1、标准JSON格式数据\"></a>6.1、标准JSON格式数据</h3><p>如果MQTT的数据为标准JSON格式的数据，可以参考该流程进行处理。</p>\n<p><img src=\"https://nas.hoipeng.cn:9000/picgo/20210927/1632726368-1632726368458-UrOaWO.png\" alt=\"JSON格式数据处理\"></p>\n<h4 id=\"1）、设置JSON数据源\"><a href=\"#1）、设置JSON数据源\" class=\"headerlink\" title=\"1）、设置JSON数据源\"></a>1）、设置JSON数据源</h4><p><img src=\"https://nas.hoipeng.cn:9000/picgo/20210927/1632726686-1632726686453-DfLlOQ.png\" alt=\"JSON数据源配置\"></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><ul>\n<li>勾选&#x3D;&#x3D;源定义在一个字段里☑️&#x3D;&#x3D;</li>\n<li>在&#x3D;&#x3D;从字段获取源&#x3D;&#x3D;中设置需要处理的字段</li>\n</ul></blockquote>\n<h4 id=\"2）、配置需要处理的字段\"><a href=\"#2）、配置需要处理的字段\" class=\"headerlink\" title=\"2）、配置需要处理的字段\"></a>2）、配置需要处理的字段</h4><p><img src=\"https://nas.hoipeng.cn:9000/picgo/20210927/1632726972-1632726972058-GWvgXP.png\" alt=\"处理JSON数据，并传递至下一节点\"></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><ul>\n<li>名称：下一节点获取数据的字段名</li>\n<li>路径：需要处理数据的JSONPath路径。<a href=\"https://www.cnblogs.com/jpfss/p/10973590.html\">JSONPath简单入门</a></li>\n</ul></blockquote>\n<h4 id=\"3）、保存至数据库\"><a href=\"#3）、保存至数据库\" class=\"headerlink\" title=\"3）、保存至数据库\"></a>3）、保存至数据库</h4><p><img src=\"https://nas.hoipeng.cn:9000/picgo/20210927/1632727164-1632727164949-gIc38M.png\" alt=\"将数据更新至数据库\"></p>\n<h3 id=\"6-2、文本格式数据\"><a href=\"#6-2、文本格式数据\" class=\"headerlink\" title=\"6.2、文本格式数据\"></a>6.2、文本格式数据</h3><p><img src=\"https://nas.hoipeng.cn:9000/picgo/20210927/1632727225-1632727225680-dieWro.png\" alt=\"处理MQTT数据流程\"></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><ol>\n<li>获取MQTT消息的节点</li>\n<li>按照指定分隔符处理文本</li>\n<li>输出日志信息</li>\n<li>写入数据库</li>\n</ol></blockquote>\n<h4 id=\"1）、-x3D-x3D-拆分字段-x3D-x3D-组件配置\"><a href=\"#1）、-x3D-x3D-拆分字段-x3D-x3D-组件配置\" class=\"headerlink\" title=\"1）、&#x3D;&#x3D;拆分字段&#x3D;&#x3D;组件配置\"></a>1）、&#x3D;&#x3D;拆分字段&#x3D;&#x3D;组件配置</h4><p><img src=\"https://nas.hoipeng.cn:9000/picgo/20210927/1632727358-1632727358449-68sOos.png\" alt=\"处理数据\"></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><ul>\n<li><p>新的字段：需要拆分的字段按照分隔符分割后，按照顺序依次赋予的变量名称。可以不与文本拆分后的数组长度一致。例如：</p>\n<p>需要拆分的文本：test1;test2;test3;test4;test5</p>\n<p>拆分后新的字段：</p>\n<p>​\tms&#x3D;test1</p>\n<p>​\tms2&#x3D;test2</p>\n<p>​\tms3&#x3D;test3</p>\n<p>​\tms4&#x3D;new4</p>\n<p>​\tms5&#x3D;new5</p>\n</li>\n<li><p>&#x3D;&#x3D;新的字段的数据类型必须设置&#x3D;&#x3D;</p>\n</li>\n</ul></blockquote>\n<h4 id=\"2）、保存至数据库中\"><a href=\"#2）、保存至数据库中\" class=\"headerlink\" title=\"2）、保存至数据库中\"></a>2）、保存至数据库中</h4><p><img src=\"https://nas.hoipeng.cn:9000/picgo/20210927/1632728301-1632728301723-QeRyTE.png\" alt=\"image-20210927153819095\"></p>\n","text":"Kettle 处理MQTT数据并存储至数据库1、新建【转换】test2.ktr 2、选择【MQTT consumer】组件 3、右键点击【编辑步骤】 4、配置MQTT消费者连接信息 新建message处理转换（test1.ktr） 填写MQTT连接地址 输入客户端ID（自己定义不...","link":"","photos":[],"count_time":{"symbolsCount":851,"symbolsTime":"1 mins."},"categories":[{"name":"程序猿🐒","slug":"程序猿🐒","count":14,"path":"api/categories/程序猿🐒.json"},{"name":"Kettle","slug":"程序猿🐒/Kettle","count":1,"path":"api/categories/程序猿🐒/Kettle.json"}],"tags":[{"name":"Kettle","slug":"Kettle","count":1,"path":"api/tags/Kettle.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Kettle-%E5%A4%84%E7%90%86MQTT%E6%95%B0%E6%8D%AE%E5%B9%B6%E5%AD%98%E5%82%A8%E8%87%B3%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">Kettle 处理MQTT数据并存储至数据库</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1%E3%80%81%E6%96%B0%E5%BB%BA%E3%80%90%E8%BD%AC%E6%8D%A2%E3%80%91test2-ktr\"><span class=\"toc-text\">1、新建【转换】test2.ktr</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2%E3%80%81%E9%80%89%E6%8B%A9%E3%80%90MQTT-consumer%E3%80%91%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">2、选择【MQTT consumer】组件</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3%E3%80%81%E5%8F%B3%E9%94%AE%E7%82%B9%E5%87%BB%E3%80%90%E7%BC%96%E8%BE%91%E6%AD%A5%E9%AA%A4%E3%80%91\"><span class=\"toc-text\">3、右键点击【编辑步骤】</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4%E3%80%81%E9%85%8D%E7%BD%AEMQTT%E6%B6%88%E8%B4%B9%E8%80%85%E8%BF%9E%E6%8E%A5%E4%BF%A1%E6%81%AF\"><span class=\"toc-text\">4、配置MQTT消费者连接信息</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5%E3%80%81%E8%AE%BE%E7%BD%AE%E8%8E%B7%E5%8F%96%E6%B6%88%E6%81%AF%E7%9A%84%E8%8A%82%E7%82%B9\"><span class=\"toc-text\">5、设置获取消息的节点</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6%E3%80%81%E5%A4%84%E7%90%86MQTT%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">6、处理MQTT数据</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-1%E3%80%81%E6%A0%87%E5%87%86JSON%E6%A0%BC%E5%BC%8F%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">6.1、标准JSON格式数据</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1%EF%BC%89%E3%80%81%E8%AE%BE%E7%BD%AEJSON%E6%95%B0%E6%8D%AE%E6%BA%90\"><span class=\"toc-text\">1）、设置JSON数据源</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2%EF%BC%89%E3%80%81%E9%85%8D%E7%BD%AE%E9%9C%80%E8%A6%81%E5%A4%84%E7%90%86%E7%9A%84%E5%AD%97%E6%AE%B5\"><span class=\"toc-text\">2）、配置需要处理的字段</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3%EF%BC%89%E3%80%81%E4%BF%9D%E5%AD%98%E8%87%B3%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">3）、保存至数据库</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-2%E3%80%81%E6%96%87%E6%9C%AC%E6%A0%BC%E5%BC%8F%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">6.2、文本格式数据</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1%EF%BC%89%E3%80%81-x3D-x3D-%E6%8B%86%E5%88%86%E5%AD%97%E6%AE%B5-x3D-x3D-%E7%BB%84%E4%BB%B6%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">1）、&#x3D;&#x3D;拆分字段&#x3D;&#x3D;组件配置</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2%EF%BC%89%E3%80%81%E4%BF%9D%E5%AD%98%E8%87%B3%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD\"><span class=\"toc-text\">2）、保存至数据库中</span></a></li></ol></li></ol></li></ol></li></ol>","author":{"name":"慎独丶九思","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"君子慎独，不欺暗室。<br />卑以自牧，含章可贞。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Docker安装nacos","uid":"141d320c20cacf53e8188cbc9f427f71","slug":"Docker安装nacos","date":"2022-12-02T08:40:39.000Z","updated":"2022-12-02T08:41:14.035Z","comments":true,"path":"api/articles/Docker安装nacos.json","keywords":null,"cover":null,"text":"Docker安装nacos一、下载镜像docker pull nacos&#x2F;nacos-server 二、初始化Nacos数据库&#x2F;* * Copyright 1999-2018 Alibaba Group Holding Ltd. * * Licensed un...","link":"","photos":[],"count_time":{"symbolsCount":"15k","symbolsTime":"13 mins."},"categories":[{"name":"程序猿🐒","slug":"程序猿🐒","count":14,"path":"api/categories/程序猿🐒.json"},{"name":"Docker","slug":"程序猿🐒/Docker","count":4,"path":"api/categories/程序猿🐒/Docker.json"}],"tags":[{"name":"Docker","slug":"Docker","count":4,"path":"api/tags/Docker.json"},{"name":"Nacos","slug":"Nacos","count":1,"path":"api/tags/Nacos.json"}],"author":{"name":"慎独丶九思","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"君子慎独，不欺暗室。<br />卑以自牧，含章可贞。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"conda常用命令","uid":"f9b8ef2e4745193c377955a886691ae2","slug":"conda常用命令","date":"2022-12-02T08:34:42.000Z","updated":"2022-12-02T08:36:58.215Z","comments":true,"path":"api/articles/conda常用命令.json","keywords":null,"cover":null,"text":"conda常用命令conda --version #查看conda版本，验证是否安装 conda update conda #更新至最新版本，也会更新其它相关包 conda update --all #更新所有包 conda update package_name #更新指定的包...","link":"","photos":[],"count_time":{"symbolsCount":"1k","symbolsTime":"1 mins."},"categories":[{"name":"程序猿🐒","slug":"程序猿🐒","count":14,"path":"api/categories/程序猿🐒.json"}],"tags":[{"name":"conda","slug":"conda","count":1,"path":"api/tags/conda.json"}],"author":{"name":"慎独丶九思","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"君子慎独，不欺暗室。<br />卑以自牧，含章可贞。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}